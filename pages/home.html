<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<style>
  .logo{
    width: 150px;
    padding: 10px;
}

header{
    display: flex;
    align-items: center;
}

body{
    padding: 1% 5%;
    background-color: aliceblue;
}
</style>

<body>

    <header class="d-flex justify-content-center py-3">
        <img src="images/logo.png" class="logo">
        <ul class="nav nav-pills">
          <li class="nav-item"><a href="/" class="nav-link active" aria-current="page">Add Client</a></li>
          <li class="nav-item"><a href="/clients" class="nav-link">Clients</a></li>
          <!-- <li class="nav-item"><a href="/generate.html" class="nav-link">Generate Challan</a></li> -->
          <li class="nav-item"><a href="/generateFromExcel" class="nav-link">Upload Excel</a></li>
        </ul>
      </header>

    <form id="clientDataForm">

        <!-- Receiver Details -->

      <div class="container">

        <h5>Receiver Details (Bill To)</h5>
        <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Receiver Name</span>
              <input name="ReceiverName" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>
    
          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Receiver Address</span>
              <input name="ReceiverAddress" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>
          
          <div class="row">

          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Receiver City</span>
              <input name="ReceiverCity" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>
    
          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Receiver State</span>
              <select class="form-select" aria-label="Default select example" name="ReceiverState">
                <option selected>Select State</option>
                <option value="Andhra Pradesh">Andhra Pradesh</option>
                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                <option value="Assam">Assam</option>
                <option value="Bihar">Bihar</option>
                <option value="Chhattisgarh">Chhattisgarh</option>
                <option value="Goa">Goa</option>
                <option value="Gujarat">Gujarat</option>
                <option value="Haryana">Haryana</option>
                <option value="Himachal Pradesh">Himachal Pradesh</option>
                <option value="Jharkhand">Jharkhand</option>
                <option value="Karnataka">Karnataka</option>
                <option value="Kerala">Kerala</option>
                <option value="Madhya Pradesh">Madhya Pradesh</option>
                <option value="Maharashtra">Maharashtra</option>
                <option value="Manipur">Manipur</option>
                <option value="Meghalaya">Meghalaya</option>
                <option value="Mizoram">Mizoram</option>
                <option value="Nagaland">Nagaland</option>
                <option value="Odisha">Odisha</option>
                <option value="Punjab">Punjab</option>
                <option value="Rajasthan">Rajasthan</option>
                <option value="Sikkim">Sikkim</option>
                <option value="Tamil Nadu">Tamil Nadu</option>
                <option value="Telangana">Telangana</option>
                <option value="Tripura">Tripura</option>
                <option value="Uttar Pradesh">Uttar Pradesh</option>
                <option value="Uttarakhand">Uttarakhand</option>
                <option value="West Bengal">West Bengal</option>
                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                <option value="Chandigarh">Chandigarh</option>
                <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                <option value="Lakshadweep">Lakshadweep</option>
                <option value="Delhi">Delhi</option>
                <option value="Puducherry">Puducherry</option>
              </select>
            </div>
          </div>


          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">State Code</span>
              <input name="ReceiverStateCode" type="number" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>

    
    
          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Receiver PIN</span>
              <input name="ReceiverPIN" type="number" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>

        </div>

      </div>


      <!-- Consignee Details -->

      

      <div class="container">
        <h5>Consignee Details (Ship To)</h5>
        <input type="checkbox" name="sameShippingAddress" id="copyToConsignee" onchange="copyReceiverToConsignee()">Same as Receiver Address</input>
        <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Consignee Name</span>
              <input name="ConsigneeName" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>

        <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Contact Person Name</span>
              <input name="ContactPersonName" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>
    
          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Consignee Address</span>
              <input name="ConsigneeAddress" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>


          <div class="row">
    
          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Consignee City</span>
              <input name="ConsigneeCity" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>
    
          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Consignee State</span>
              <select name="ConsigneeState" class="form-select" aria-label="Default select example">
                <option selected>Select State</option>
                <option value="Andhra Pradesh">Andhra Pradesh</option>
                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                <option value="Assam">Assam</option>
                <option value="Bihar">Bihar</option>
                <option value="Chhattisgarh">Chhattisgarh</option>
                <option value="Goa">Goa</option>
                <option value="Gujarat">Gujarat</option>
                <option value="Haryana">Haryana</option>
                <option value="Himachal Pradesh">Himachal Pradesh</option>
                <option value="Jharkhand">Jharkhand</option>
                <option value="Karnataka">Karnataka</option>
                <option value="Kerala">Kerala</option>
                <option value="Madhya Pradesh">Madhya Pradesh</option>
                <option value="Maharashtra">Maharashtra</option>
                <option value="Manipur">Manipur</option>
                <option value="Meghalaya">Meghalaya</option>
                <option value="Mizoram">Mizoram</option>
                <option value="Nagaland">Nagaland</option>
                <option value="Odisha">Odisha</option>
                <option value="Punjab">Punjab</option>
                <option value="Rajasthan">Rajasthan</option>
                <option value="Sikkim">Sikkim</option>
                <option value="Tamil Nadu">Tamil Nadu</option>
                <option value="Telangana">Telangana</option>
                <option value="Tripura">Tripura</option>
                <option value="Uttar Pradesh">Uttar Pradesh</option>
                <option value="Uttarakhand">Uttarakhand</option>
                <option value="West Bengal">West Bengal</option>
                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                <option value="Chandigarh">Chandigarh</option>
                <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                <option value="Lakshadweep">Lakshadweep</option>
                <option value="Delhi">Delhi</option>
                <option value="Puducherry">Puducherry</option>
              </select>
            </div>
          </div>

          <div class="mb-3 col">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">State Code</span>
              <input name="ConsigneeStateCode" type="number" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>
    
    
          <div class="mb-3 col">
            <div class="input-group">
              <span  class="input-group-text" id="basic-addon3">Consignee PIN</span>
              <input name="ConsigneePIN" type="number" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>

        </div>

          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">Consignee Mobile Number</span>
              <input name="ConsigneeMobileNumber" type="number" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>


          <div class="mb-3">
            <div class="input-group">
              <span class="input-group-text" id="basic-addon3">GSTIN No.</span>
              <input name="GSTINNumber" type="text" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
            </div>
          </div>

          
      </div>


      <button type="submit" class="btn btn-primary">Add Client</button>


    </form>

    <script>
      const clientDataForm = document.getElementById("clientDataForm");

clientDataForm.addEventListener("submit", function(event) {
  event.preventDefault();

  const formData = {};

  for (const input of clientDataForm.elements) {
    if (input.type !== "submit") {
      formData[input.name] = input.value;
      if (input.value.trim() === "") {
        alert("Please fill in all fields.");
        return; // Don't save data if any field is empty
      }
    }
  }



  fetch('/client', {
    method: 'POST',
    body: JSON.stringify(formData),
    headers: {
    'Content-Type': 'application/json'
    }
  })
  .then(res=>res.json())
  .then(data=>{
    if(data.success)
    alert('Client added successfully')
  })

});

</script>


<script>
  // Function to copy Receiver Details to Consignee Details
  function copyReceiverToConsignee() {
      // Check if the checkbox is checked
      if (document.getElementById('copyToConsignee').checked) {
          // Get Receiver Details input elements by name
          const receiverName = document.getElementsByName('ReceiverName')[0].value;
          const receiverAddress = document.getElementsByName('ReceiverAddress')[0].value;
          const receiverCity = document.getElementsByName('ReceiverCity')[0].value;
          const receiverState = document.getElementsByName('ReceiverState')[0].value;
          const receiverStateCode = document.getElementsByName('ReceiverStateCode')[0].value;
          const receiverPIN = document.getElementsByName('ReceiverPIN')[0].value;

          // Set Consignee Details input elements by name
          document.getElementsByName('ConsigneeName')[0].value = receiverName;
          document.getElementsByName('ConsigneeAddress')[0].value = receiverAddress;
          document.getElementsByName('ConsigneeCity')[0].value = receiverCity;
          document.getElementsByName('ConsigneeState')[0].value = receiverState;
          document.getElementsByName('ConsigneeStateCode')[0].value = receiverStateCode;
          document.getElementsByName('ConsigneePIN')[0].value = receiverPIN;
      } else {
          // Clear Consignee Details when checkbox is unchecked
          document.getElementsByName('ConsigneeName')[0].value = '';
          document.getElementsByName('ConsigneeAddress')[0].value = '';
          document.getElementsByName('ConsigneeCity')[0].value = '';
          document.getElementsByName('ConsigneeState')[0].value = '';
          document.getElementsByName('ConsigneeStateCode')[0].value = '';
          document.getElementsByName('ConsigneePIN')[0].value = '';
      }
  }
</script>


    
</body>
</html>